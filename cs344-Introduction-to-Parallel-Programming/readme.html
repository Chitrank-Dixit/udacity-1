<span style="font-family: Arial, Helvetica, sans-serif;">While taking the <a href="https://www.udacity.com/course/cs344">Udacity parallel computing class</a> I decided to compare performance between CPU (serial) and GPU (parallel) implementation. So I ran a simple kernel, `a * a + b * b`, for an array of 32-bit random floats between 0 and 1 using pyopencl and numpy. I wanted to see if it was worthwhile to take my GPU BTC mining rig offline periodically to do scientific computing. But even my a bottom-of-the-barrel 64-bit AMD Sempron 145 (2.8 GHz, 5600 bogo-MIPS) processor with 8GB DRAM can beat a Radeon 7750 GPU for all but the largest arrays. And the best-possible throughput gain on the GPU is about 4x. 
<br /><br />
So numpy must be well-optimized. I tried optimizing my GPU kernel by minimizing array index lookups, etc, but nothing I came up with made a significant difference for this simple kernel. Both the CPU and GPU gave exactly the same answer, so that's nice.</span><br />
<br />
<span style="font-family: Arial, Helvetica, sans-serif;">
Here's the output with execution times...</span><br />
<pre style="background: #ffffff; color: black;"><pre></pre>
<pre></pre>
<pre>GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0115399</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.7895e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">0</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.241726</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0115771</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.19345e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">1</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.189464</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0116088</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.19345e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">2</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.188947</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0115681</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.59876e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">3</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.22465</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.011663</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">7.70092e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">4</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.660289</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.023535</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.000612974</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">5</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">2.60452</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0234549</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0182121</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">6</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">77.6472</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0668991</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.240016</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">7</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">358.773</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.567215</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.24371</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">8</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">395.566</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
</pre>
<span style="font-family: Arial, Helvetica, sans-serif;">



With cgminer running at -I 9 on all the GPUs, the speed advantage for a GPU doesn't budge, significantly. &nbsp;So pyopencl is pretty effective at interrupting cgminer and prioritizing its threads.
</span>



<pre style="background: #ffffff; color: black;">GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.179582</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.7895e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">0</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.0155333</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.263615</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.31266e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">1</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.00877287</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.263666</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.40803e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">2</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.00913287</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.011616</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.81334e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">3</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.242195</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0116951</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">7.60555e-05</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">4</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">0.650317</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.023536</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.000617981</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">5</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">2.62569</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0236619</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0189419</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">6</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">80.0524</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.0630081</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.230431</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">7</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">365.717</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span>
GPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">0.82972</span>
CPU execution <span style="color: #603000;">time</span><span style="color: purple;">:</span> <span style="color: green;">2.4491</span>
CPU<span style="color: #808030;">/</span>GPU speed ratio <span style="color: maroon; font-weight: bold;">for</span> <span style="color: #008c00;">10</span><span style="color: #808030;">^</span><span style="color: #008c00;">8</span> kernel executions<span style="color: purple;">:</span> <span style="color: green;">295.172</span><span style="color: #808030;">%</span> 
Difference between the <span style="color: #008c00;">2</span> answers<span style="color: purple;">:</span>
<span style="color: green;">0.0</span></pre>
Installation was a bit tricky. You have to make sure setuptools is overriden by distribute. But Ubuntu 12.04 makes this easy. Thanks to <a href="http://stackoverflow.com/a/14718550/623735">kermit666 on SO</a> for this simple approach to getting virtualenv wrapper and numpy up and running quickly on a fresh Ubuntu install.


<pre style="background: #ffffff; color: black;"><span style="color: dimgrey;">#!</span><span style="color: #007997;">/usr/bin/env</span><span style="color: #bb7977; font-weight: bold;"> sh</span>
sudo apt-get install python-pip python-dev
sudo pip install virtualenv virtualenvwrapper

<span style="color: #bb7977; font-weight: bold;">echo</span> <span style="color: #0000e6;">'export PROJECT_HOME="$HOME/src"'</span> <span style="color: #e34adc;">&gt;</span><span style="color: #e34adc;">&gt;</span> <span style="color: #797997;">$HOME</span><span style="color: #40015a;">/</span><span style="color: maroon; font-weight: bold;">.</span>bashrc
<span style="color: #bb7977; font-weight: bold;">echo</span> <span style="color: #0000e6;">'export WORKON_HOME="$HOME/.virtualenvs"'</span> <span style="color: #e34adc;">&gt;</span><span style="color: #e34adc;">&gt;</span> <span style="color: #797997;">$HOME</span><span style="color: #40015a;">/</span><span style="color: maroon; font-weight: bold;">.</span>bashrc
<span style="color: #bb7977; font-weight: bold;">echo</span> <span style="color: #0000e6;">'source /usr/local/bin/virtualenvwrapper.sh'</span> <span style="color: #e34adc;">&gt;</span><span style="color: #e34adc;">&gt;</span> <span style="color: #797997;">$HOME</span><span style="color: #40015a;">/</span><span style="color: maroon; font-weight: bold;">.</span>bashrc

sudo apt-get install -y gfortran g++
<span style="color: dimgrey;"># sudo apt-get remove -y --purge python-setuptools</span>

<span style="color: dimgrey;"># start a new virtalenv project</span>
mkproject parallel
pip install --upgrade distribute
pip install mako numpy pyopencl
</pre>
</pre>
<pre style="background: #ffffff; color: black;"></pre>
<pre style="background: #ffffff; color: black;"><span style="font-family: Arial, Helvetica, sans-serif;">
</span></pre>
<pre style="background: #ffffff; color: black;"><span style="font-family: Arial, Helvetica, sans-serif;">Here's the python code that ran the kernel and measured execution time. It's based on the <a href="http://documen.tician.de/pyopencl/">official pyopencl example</a> ...</span></pre>
<pre style="background: #ffffff; color: black;"><span style="font-family: Arial, Helvetica, sans-serif;">
</span></pre>
<pre style="background: #ffffff; color: black;"><span style="color: maroon; font-weight: bold;">import</span> pyopencl as cl
<span style="color: maroon; font-weight: bold;">import</span> numpy
<span style="color: maroon; font-weight: bold;">import</span> numpy<span style="color: #808030;">.</span>linalg as la
<span style="color: maroon; font-weight: bold;">import</span> time

<span style="color: maroon; font-weight: bold;">for</span> M <span style="color: maroon; font-weight: bold;">in</span> <span style="color: #e34adc;">range</span><span style="color: #808030;">(</span><span style="color: #008c00;">0</span><span style="color: #808030;">,</span> <span style="color: #008c00;">8</span><span style="color: #808030;">)</span><span style="color: #808030;">:</span>
    N <span style="color: #808030;">=</span> <span style="color: #008c00;">10</span><span style="color: #808030;">*</span><span style="color: #808030;">*</span>M <span style="color: #808030;">*</span> <span style="color: #008c00;">1000</span>
    a <span style="color: #808030;">=</span> numpy<span style="color: #808030;">.</span>random<span style="color: #808030;">.</span>rand<span style="color: #808030;">(</span>N<span style="color: #808030;">)</span><span style="color: #808030;">.</span>astype<span style="color: #808030;">(</span>numpy<span style="color: #808030;">.</span>float32<span style="color: #808030;">)</span>
    b <span style="color: #808030;">=</span> numpy<span style="color: #808030;">.</span>random<span style="color: #808030;">.</span>rand<span style="color: #808030;">(</span>N<span style="color: #808030;">)</span><span style="color: #808030;">.</span>astype<span style="color: #808030;">(</span>numpy<span style="color: #808030;">.</span>float32<span style="color: #808030;">)</span>

    ctx <span style="color: #808030;">=</span> cl<span style="color: #808030;">.</span>create_some_context<span style="color: #808030;">(</span><span style="color: #808030;">)</span>
    queue <span style="color: #808030;">=</span> cl<span style="color: #808030;">.</span>CommandQueue<span style="color: #808030;">(</span>ctx<span style="color: #808030;">)</span>

    mf <span style="color: #808030;">=</span> cl<span style="color: #808030;">.</span>mem_flags
    a_buf <span style="color: #808030;">=</span> cl<span style="color: #808030;">.</span>Buffer<span style="color: #808030;">(</span>ctx<span style="color: #808030;">,</span> mf<span style="color: #808030;">.</span>READ_ONLY <span style="color: #808030;">|</span> mf<span style="color: #808030;">.</span>COPY_HOST_PTR<span style="color: #808030;">,</span> hostbuf<span style="color: #808030;">=</span>a<span style="color: #808030;">)</span>
    b_buf <span style="color: #808030;">=</span> cl<span style="color: #808030;">.</span>Buffer<span style="color: #808030;">(</span>ctx<span style="color: #808030;">,</span> mf<span style="color: #808030;">.</span>READ_ONLY <span style="color: #808030;">|</span> mf<span style="color: #808030;">.</span>COPY_HOST_PTR<span style="color: #808030;">,</span> hostbuf<span style="color: #808030;">=</span>b<span style="color: #808030;">)</span>
    dest_buf <span style="color: #808030;">=</span> cl<span style="color: #808030;">.</span>Buffer<span style="color: #808030;">(</span>ctx<span style="color: #808030;">,</span> mf<span style="color: #808030;">.</span>WRITE_ONLY<span style="color: #808030;">,</span> b<span style="color: #808030;">.</span>nbytes<span style="color: #808030;">)</span>

    prg <span style="color: #808030;">=</span> cl<span style="color: #808030;">.</span>Program<span style="color: #808030;">(</span>ctx<span style="color: #808030;">,</span> <span style="color: dimgrey;">"""</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__kernel void sum(__global const float *a,</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__global const float *b, __global float *c)</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float a2 = a[gid];</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float b2 = b[gid];</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[gid] = a2 * a2 + b2 * b2;</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span>
<span style="color: dimgrey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"""</span><span style="color: #808030;">)</span><span style="color: #808030;">.</span>build<span style="color: #808030;">(</span><span style="color: #808030;">)</span>

    prg<span style="color: #808030;">.</span>sum<span style="color: #808030;">(</span>queue<span style="color: #808030;">,</span> a<span style="color: #808030;">.</span>shape<span style="color: #808030;">,</span> <span style="color: #e34adc;">None</span><span style="color: #808030;">,</span> a_buf<span style="color: #808030;">,</span> b_buf<span style="color: #808030;">,</span> dest_buf<span style="color: #808030;">)</span>

    gpu_ans <span style="color: #808030;">=</span> numpy<span style="color: #808030;">.</span>empty_like<span style="color: #808030;">(</span>a<span style="color: #808030;">)</span>
    gpu_t0 <span style="color: #808030;">=</span> time<span style="color: #808030;">.</span>time<span style="color: #808030;">(</span><span style="color: #808030;">)</span>
    cl<span style="color: #808030;">.</span>enqueue_copy<span style="color: #808030;">(</span>queue<span style="color: #808030;">,</span> gpu_ans<span style="color: #808030;">,</span> dest_buf<span style="color: #808030;">)</span>
    gpu_t <span style="color: #808030;">=</span> time<span style="color: #808030;">.</span>time<span style="color: #808030;">(</span><span style="color: #808030;">)</span> <span style="color: #808030;">-</span> gpu_t0
    <span style="color: maroon; font-weight: bold;">print</span> <span style="color: #0000e6;">'GPU execution time: %g'</span> <span style="color: #808030;">%</span> gpu_t

    cpu_ans <span style="color: #808030;">=</span> numpy<span style="color: #808030;">.</span>empty_like<span style="color: #808030;">(</span>a<span style="color: #808030;">)</span>
    cpu_t0 <span style="color: #808030;">=</span> time<span style="color: #808030;">.</span>time<span style="color: #808030;">(</span><span style="color: #808030;">)</span>
    cpu_ans <span style="color: #808030;">=</span> a <span style="color: #808030;">*</span> a <span style="color: #808030;">+</span> b <span style="color: #808030;">*</span> b
    cpu_t <span style="color: #808030;">=</span> time<span style="color: #808030;">.</span>time<span style="color: #808030;">(</span><span style="color: #808030;">)</span> <span style="color: #808030;">-</span> cpu_t0
    <span style="color: maroon; font-weight: bold;">print</span> <span style="color: #0000e6;">'CPU execution time: %g'</span> <span style="color: #808030;">%</span> cpu_t

    <span style="color: maroon; font-weight: bold;">print</span> <span style="color: #0000e6;">'CPU/GPU difference in speed for %d additions: %g%% '</span> <span style="color: #808030;">%</span> <span style="color: #808030;">(</span>N<span style="color: #808030;">,</span> <span style="color: green;">200.0</span> <span style="color: #808030;">*</span> cpu_t <span style="color: #808030;">/</span> <span style="color: #808030;">(</span>gpu_t <span style="color: #808030;">+</span> cpu_t<span style="color: #808030;">)</span><span style="color: #808030;">)</span>

    <span style="color: maroon; font-weight: bold;">print</span> <span style="color: #0000e6;">'Difference between the 2 answers:'</span>
    <span style="color: maroon; font-weight: bold;">print</span> la<span style="color: #808030;">.</span>norm<span style="color: #808030;">(</span>cpu_ans <span style="color: #808030;">-</span> gpu_ans<span style="color: #808030;">)</span>
</pre>

